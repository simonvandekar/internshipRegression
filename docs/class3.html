<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Vanderbilt Biostatistics Summer Internship: Regression - Class 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Vanderbilt Biostatistics Summer Internship: Regression</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-course-content" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Course content</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-course-content">    
        <li>
    <a class="dropdown-item" href="./class1.html" rel="" target="">
 <span class="dropdown-text">Class 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./class2.html" rel="" target="">
 <span class="dropdown-text">Class 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./class3.html" rel="" target="">
 <span class="dropdown-text">Class 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./class4.html" rel="" target="">
 <span class="dropdown-text">Class 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./class5.html" rel="" target="">
 <span class="dropdown-text">Class 5</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#goal" id="toc-goal" class="nav-link" data-scroll-target="#goal">Goal</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#add-table-1" id="toc-add-table-1" class="nav-link" data-scroll-target="#add-table-1">Add Table 1:</a></li>
  <li><a href="#add-the-exploratory-analyses-here" id="toc-add-the-exploratory-analyses-here" class="nav-link" data-scroll-target="#add-the-exploratory-analyses-here">Add the exploratory analyses here:</a></li>
  <li><a href="#age-influence-on-health-charges" id="toc-age-influence-on-health-charges" class="nav-link" data-scroll-target="#age-influence-on-health-charges">Age Influence on Health Charges:</a></li>
  <li><a href="#influence-of-smoking-on-medical-expenses" id="toc-influence-of-smoking-on-medical-expenses" class="nav-link" data-scroll-target="#influence-of-smoking-on-medical-expenses">Influence of Smoking on Medical Expenses:</a></li>
  <li><a href="#regional-variations-in-healthcare-charges" id="toc-regional-variations-in-healthcare-charges" class="nav-link" data-scroll-target="#regional-variations-in-healthcare-charges">Regional Variations in Healthcare Charges:</a></li>
  <li><a href="#combined-effects-of-predictors" id="toc-combined-effects-of-predictors" class="nav-link" data-scroll-target="#combined-effects-of-predictors"><strong>Combined Effects of Predictors:</strong></a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 3</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="objectives" class="level1">
<h1>Objectives</h1>
<ul>
<li>To get some practice using the tools we have discussed so far.</li>
</ul>
</section>
<section id="goal" class="level1">
<h1>Goal</h1>
<p>The goal will be to analyze some insurance claims data. Install the <code>RESI</code> <code>R</code> package load the package and the data.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'RESI'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RESI)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>ins <span class="ot">=</span> insurance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We’ll follow the outline of a paper:</p>
<ol type="1">
<li><strong>Introduction</strong> – this part is roughly done for you.</li>
<li><strong>Methods</strong>
<ul>
<li>Convert the research questions into conclusions you can make about parameters in a linear regression model.</li>
<li>Table 1. What variables will you include? What tests will you perform in the table?</li>
<li>What exploratory visualizations will you use?</li>
<li>What model will you use to answer the research questions. Do you need to construct a test, confidence interval, or both?</li>
<li>What visualizations will you use to evaluate the model assumptions?</li>
<li>How will you visualize the results with the data.</li>
</ul></li>
<li><strong>Results</strong>
<ul>
<li>Follow the structure we outlined in the Methods and perform the analyses.</li>
</ul></li>
<li><strong>Discussion</strong></li>
</ol>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Let’s use the insurance dataset to investigate the following questions:</p>
<ol type="1">
<li><strong>Age Influence on Health Charges:</strong>
<ul>
<li>How does age affect medical charges, and is the relationship linear, or do older age groups experience disproportionately higher charges? <!-- 2. **Impact of Sex on Medical Charges:** --> <!--    - Does sex play a role in influencing the amount individuals are charged for medical expenses, and are there notable differences in charges between males and females? --></li>
</ul></li>
<li><strong>Influence of Smoking on Medical Expenses:</strong>
<ul>
<li>How does smoking status influence medical charges, and are smokers subjected to significantly higher health-related expenses compared to non-smokers?</li>
</ul></li>
<li><strong>Regional Variations in Healthcare Charges:</strong>
<ul>
<li>Are there regional differences in medical charges, and how do regional factors potentially contribute to the variation in healthcare costs?</li>
</ul></li>
<li><strong>Combined Effects of Predictors:</strong>
<ul>
<li>What does the relationship between each variable look like after controlling for the others? <strong>Hint:</strong> Use added variable plots.</li>
<li>Does smoking status affect the influence of age on medical charges?</li>
</ul></li>
</ol>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p><strong>Describe the overall strategy:</strong></p>
<p>For all study aims, we will use <code>XX</code> model including <code>XX</code> as covariates. We will use <code>XX</code> plots to understand the distributions of the covariates with the outcome. We will evaluate the effect of each variable using XX tests and include added variable plots to visualize the unique contribution of each variable. <strong>Other ideas?</strong></p>
<p>Then describe the specific strategy for each research question. Create the results below.</p>
<ol type="1">
<li><strong>Age Influence on Health Charges:</strong>
<ul>
<li>To evaluate the effect of age on medical charges, we will test the linear age effect using a <code>XX</code> test and report the effect with the estimate, confidence interval, T-statistic, degrees of freedom, and <span class="math inline">\(p\)</span>-value.</li>
</ul></li>
<li><strong>Influence of Smoking on Medical Expenses:</strong>
<ul>
<li><em>fill in your answer here</em></li>
</ul></li>
<li><strong>Regional Variations in Healthcare Charges:</strong>
<ul>
<li><em>fill in your answer here</em></li>
</ul></li>
<li><strong>Combined Effects of Predictors:</strong>
<ul>
<li><em>fill in your answer here</em></li>
</ul></li>
</ol>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<p><strong>Follow the same structure as methods, presenting the results:</strong></p>
<p>Describe the specific strategy for each research question and perform the analyses/create the results below.</p>
<section id="add-table-1" class="level2">
<h2 class="anchored" data-anchor-id="add-table-1">Add Table 1:</h2>
<p><em>fill in your answer here</em></p>
</section>
<section id="add-the-exploratory-analyses-here" class="level2">
<h2 class="anchored" data-anchor-id="add-the-exploratory-analyses-here">Add the exploratory analyses here:</h2>
<p><em>fill in your answer here</em></p>
</section>
<section id="age-influence-on-health-charges" class="level2">
<h2 class="anchored" data-anchor-id="age-influence-on-health-charges">Age Influence on Health Charges:</h2>
<p>To evaluate the effect of age on medical charges, perform a test of the linear age effect using a <code>XX</code> test and report the effect with the estimate, confidence interval, T-statistic, degrees of freedom, and <span class="math inline">\(p\)</span>-value.</p>
</section>
<section id="influence-of-smoking-on-medical-expenses" class="level2">
<h2 class="anchored" data-anchor-id="influence-of-smoking-on-medical-expenses">Influence of Smoking on Medical Expenses:</h2>
<p><em>fill in your answer here</em></p>
</section>
<section id="regional-variations-in-healthcare-charges" class="level2">
<h2 class="anchored" data-anchor-id="regional-variations-in-healthcare-charges">Regional Variations in Healthcare Charges:</h2>
<p><em>fill in your answer here</em></p>
</section>
<section id="combined-effects-of-predictors" class="level2">
<h2 class="anchored" data-anchor-id="combined-effects-of-predictors"><strong>Combined Effects of Predictors:</strong></h2>
<p><em>fill in your answer here</em></p>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>